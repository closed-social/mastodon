# 闭社新增配置参数说明

## 匿名相关

闭社新增了匿名发言的功能，开启后，以特定标记结尾(注意不要有多余的回车或空格)，发言者就会变成特定的帐号。

`ANON_TAG` 匿名标记，以这个结尾的嘟文就会成为匿名嘟文（本质只是修改了发言者）

`ANON_NAME_LIST` 匿名代号列表，一个文件名，文件内容的格式为每行一个名字。每个用户会随机取一个代号加在匿名嘟文的最前面。对应关系每日更新。

`ANON_ACC` 匿名帐号的id。匿名嘟文的发言者会变成这个帐号。

## 闭社树相关

闭社设计了一套闭社树功能。

`TREE_ADDRESS` 作为闭社树根节点的嘟文的路径（示例：`/statuses/102995298871197915`）

`TREE_ACC`建树帐号的id。跟节点发布自这个帐号的嘟文，在现实上会特殊处理。

## 邮件提示加强

考虑到一定会限制邮箱，闭社加强了邮件提示。

`EMAIL_DEFAULT_DOMAIN` 默认的邮箱后缀，会显示在注册界面并自动补全

`EMAIL_REGEX` 邮箱正则，在前端输入时检查邮箱格式是否正确，这主要是为了及时发现输错邮箱的情况，提升用户体验和减少对邮箱服务器的浪费。

* 注意: 邮箱正则只是一个纯前端的辅助校验，与后端的实际邮箱规则无关。有些时候需要用不公开的邮箱规则创建一些机器人帐号，用于匿名功能的匿名帐号/闭社树功能的建树机器人/管理员帐号/其他bot，邮箱正则会给注册带来不便，可以直接f12打开调试界面直接删除input元素中的正则限制，也可以前期先不使用邮箱正则功能，还可以直接在服务器上通过命令行创建帐号。

